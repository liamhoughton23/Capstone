@model IEnumerable<CAPSTONE.Models.OffenseStats>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Player.FirstName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TotalPlateAppearances)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OfficialAtBats)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TotalHits)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BA)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SLG)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.OBP)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BOBP)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SBP)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SOR)
        </th>>
        <th>
            @Html.DisplayNameFor(model => model.RunsCreated)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Player.FirstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TotalPlateAppearances)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.OfficialAtBats)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TotalHits)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.BA)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SLG)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.OBP)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.BOBP)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SBP)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SOR)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RunsCreated)
            </td>
        </tr>
    }

</table>

<div class="row">
    <input type="button" value="Back to Home" class="btn-default" onclick="location.href='@Url.Action("Home", "Coaches")'" />
</div>

<meta name="viewport" content="width=device-width" />
<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<title>Line Chart</title>
<div id="chartContainer"></div>

<script type="text/javascript">
       var result =  @Html.Raw(Json.Encode(Model));
        var dataPoints =[];
        for(var i = 0; i < result.length; i++){
            dataPoints.push({label:result[i].Player.FirstName, y:result[i].BA});
        }

        window.onload = function() {
            var chart = new CanvasJS.Chart("chartContainer", {
                theme: "theme2",
                zoomEnabled: true,
                animationEnabled: true,
                title: {
                    text: "Batting Average"
                },
                data: [
                {
                    type: "column",

                    dataPoints: dataPoints,
                }
                ]
            });
            chart.render();
        };
</script>

